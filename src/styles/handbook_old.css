/**
 * Handbook Cover
 */

.handbook-stage {
    position: relative;
    height: 220vh; /* sticky scroll length */
}

.handbook-sticky {
    position: sticky;
    top: 8vh;
    min-height: 84vh;
    display: grid;
    place-items: center;
}

.handbook-book {
    --expand: 0;
    --book-min: 20rem; /* ~320px */
    --book-base: 32.5rem; /* ~520px */
    width: clamp(
        var(--book-min),
        calc(var(--book-base) + (100% - var(--book-base)) * var(--expand)),
        100%
    );
    margin: 0 auto;
    transition: none;
}

.handbook-cover {
    /* base size grows with book expansion */
    font-size: calc(0.9rem + 0.9rem * var(--expand));

    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    background: linear-gradient(160deg, #3f2a1e 0%, #5d3b25 45%, #2c1d15 100%);
    color: #f4ead6;
    border: 1px solid #2a1a12;
    border-radius: 6px;
    padding: 2.5em 2em; /* use em so padding scales too */
    box-shadow: 0 16px 30px rgba(0, 0, 0, 0.35);
    aspect-ratio: 12 / 13;
}

.handbook-cover::before {
    content: "";
    position: absolute;
    left: -8px;
    top: 0;
    bottom: 0;
    width: 8px;
    background: linear-gradient(180deg, #d3bf96 0%, #a58a59 100%);
}

.handbook-cover h3,
.handbook-cover h4,
.handbook-cover p {
    margin: 0;
    line-height: 1.2;
    font-weight: 700;
    text-align: center;
}

.handbook-kicker {
    font-size: 1.5em;
    letter-spacing: 0.06em;
    text-transform: uppercase;
}

.handbook-subtitle {
    font-size: 1em;
    margin-top: 0.5em;
    opacity: 0.9;
}

.handbook-book hr {
    width: 70%;
    height: 0.08em;
    margin: 1.25em auto;
    background: #cdb78a;
    opacity: 0.7;
    border: 0;
}

.handbook-volume h4 {
    font-size: 1.1em;
    margin-bottom: 0.25em;
}

.handbook-volume h3 {
    font-size: 2em;
    line-height: 1.2;
}

/**
 * Handbook Text
 */

.handbook-text {
    max-width: 100%;
    margin: 4rem auto 0;
    padding: 3rem clamp(1.25rem, 3vw, 3rem);
    background:
        radial-gradient(circle at 20% 10%, rgba(255, 221, 160, 0.08), transparent 35%),
        radial-gradient(circle at 80% 90%, rgba(255, 221, 160, 0.05), transparent 40%),
        linear-gradient(180deg, #24170f 0%, #1b120c 100%);
    border: 1px solid #5f4730;
    border-radius: 10px;
    box-shadow: 0 18px 36px rgba(0, 0, 0, 0.45);
    color: #e8d7bb;
    font-family: Georgia, "Times New Roman", Times, serif;
    transition: opacity 300ms ease;
}

.handbook-text h1,
.handbook-text h2,
.handbook-text h3,
.handbook-text h4,
.handbook-text h5,
.handbook-text h6 {
    text-align: left;
    margin: 2.5rem 0 1.25rem;
    line-height: 1.2;
    color: #f3e2c6;
    text-shadow: 0 1px 0 rgba(0, 0, 0, 0.35);
}

.handbook-text p,
.handbook-text li {
    line-height: 1.9;
    color: #dbc8aa;
}

.handbook-text a {
    color: #f0c980;
}

.handbook-text code {
    background: rgba(255, 214, 153, 0.12);
    color: #ffe2b3;
    padding: 0.12em 0.35em;
    border-radius: 4px;
}

.handbook-text table {
    width: 100%;
    border-collapse: collapse;
    margin: 2rem 0;
    font-size: 0.95em;
}

.handbook-text th,
.handbook-text td {
    border: 1px solid #6b5238;
    padding: 0.65rem 0.75rem;
    text-align: left;
}

.handbook-text th {
    background: rgba(255, 219, 168, 0.08);
    color: #f4dfbe;
}
